<Window x:Class="FileConverter.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="File Converter" 
        Height="700" 
        Width="1000"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanMinimize"
        AllowDrop="True"
        Drop="Window_Drop"
        DragOver="Window_DragOver"
        Icon="FileConverter.ico">


    <Grid>
        <Grid.Background>
            <ImageBrush ImageSource="Assets/background.jpg" Stretch="UniformToFill"/>
        </Grid.Background>

        <Border Background="#40000000"/>

        <Grid x:Name="MainContentGrid" Margin="40">
            
            <Grid x:Name="UploadScreen" Visibility="Visible">
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                    
                    <Border x:Name="DropZone"
                            Width="500" 
                            Height="300"
                            BorderBrush="#60FFFFFF"
                            BorderThickness="2"
                            CornerRadius="20"
                            Background="#20FFFFFF"
                            Padding="40">
                        <Border.Effect>
                            <DropShadowEffect Color="Black" Opacity="0.3" ShadowDepth="4" BlurRadius="20"/>
                        </Border.Effect>
                        
                        <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                            <Viewbox Width="80" Height="80" Margin="0,0,0,20">
                                <Canvas Width="24" Height="24">
                                    <Path Fill="White" Opacity="0.8" 
                                          Data="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"/>
                                </Canvas>
                            </Viewbox>

                            <Button x:Name="UploadButton"
                                    Content="ðŸ“¤ Upload Files"
                                    Style="{StaticResource GlassButton}"
                                    Click="UploadButton_Click"
                                    Margin="0,0,0,15"/>

                            <TextBlock Text="or drag and drop files here"
                                       Foreground="White"
                                       FontSize="14"
                                       Opacity="0.7"
                                       HorizontalAlignment="Center"/>

                            <TextBlock Margin="0,20,0,0"
                                       TextAlignment="Center"
                                       Foreground="White"
                                       Opacity="0.6"
                                       FontSize="12"
                                       LineHeight="18">
                                <Run Text="Supported: Documents, Images, Videos, Audio, Archives"/>
                            </TextBlock>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Grid>

            <Grid x:Name="ConversionScreen" Visibility="Collapsed">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <Border Grid.Row="0"
                        Background="#30FFFFFF"
                        BorderBrush="#40FFFFFF"
                        BorderThickness="1"
                        CornerRadius="15"
                        Padding="25"
                        Margin="0,0,0,20">
                    <Border.Effect>
                        <DropShadowEffect Color="Black" Opacity="0.2" ShadowDepth="3" BlurRadius="15"/>
                    </Border.Effect>
                    
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <Border Grid.Column="0"
                                Width="60" 
                                Height="60"
                                Background="#40FFFFFF"
                                CornerRadius="10"
                                Margin="0,0,20,0">
                            <TextBlock x:Name="FileIconText"
                                       Text="ðŸ“„"
                                       FontSize="32"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"/>
                        </Border>

                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <TextBlock x:Name="FileNameText"
                                       Text="document.pdf"
                                       Foreground="White"
                                       FontSize="18"
                                       FontWeight="Bold"
                                       TextTrimming="CharacterEllipsis"/>
                            <TextBlock x:Name="FileTypeText"
                                       Text="Document â€¢ PDF Format"
                                       Foreground="White"
                                       Opacity="0.8"
                                       FontSize="13"
                                       Margin="0,5,0,0"/>
                            <TextBlock x:Name="FileSizeText"
                                       Text="2.5 MB"
                                       Foreground="White"
                                       Opacity="0.6"
                                       FontSize="12"
                                       Margin="0,3,0,0"/>
                        </StackPanel>

                        <Button Grid.Column="2"
                                Content="Change File"
                                Style="{StaticResource ConversionButton}"
                                Click="ChangeFile_Click"
                                VerticalAlignment="Center"/>
                    </Grid>
                </Border>

                <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <TextBlock Text="âœ¨ Recommended Conversions"
                                   Foreground="White"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   Margin="0,0,0,15"/>

                        <WrapPanel x:Name="RecommendedConversions" Margin="0,0,0,30">
                        </WrapPanel>

                        <TextBlock Text="ðŸ”„ All Available Formats"
                                   Foreground="White"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   Margin="0,0,0,15"/>

                        <WrapPanel x:Name="AllConversions">
                        </WrapPanel>
                    </StackPanel>
                </ScrollViewer>

                <StackPanel Grid.Row="2" Margin="0,20,0,0">
                    <Border x:Name="QualitySettingsPanel"
                            Background="#20FFFFFF"
                            BorderBrush="#30FFFFFF"
                            BorderThickness="1"
                            CornerRadius="10"
                            Padding="20"
                            Margin="0,0,0,15"
                            Visibility="Collapsed">
                        <StackPanel>
                            <TextBlock Text="Conversion Quality"
                                       Foreground="White"
                                       FontSize="14"
                                       Margin="0,0,0,10"/>
                            <Slider x:Name="QualitySlider"
                                    Minimum="1"
                                    Maximum="100"
                                    Value="85"
                                    TickFrequency="10"
                                    IsSnapToTickEnabled="True"/>
                            <TextBlock x:Name="QualityValueText"
                                       Text="Quality: 85%"
                                       Foreground="White"
                                       Opacity="0.7"
                                       FontSize="12"
                                       HorizontalAlignment="Right"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Grid>

            <Grid x:Name="ProgressScreen" Visibility="Collapsed">
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" Width="500">
                    <Border Background="#30FFFFFF"
                            BorderBrush="#40FFFFFF"
                            BorderThickness="1"
                            CornerRadius="20"
                            Padding="40">
                        <Border.Effect>
                            <DropShadowEffect Color="Black" Opacity="0.3" ShadowDepth="4" BlurRadius="20"/>
                        </Border.Effect>

                        <StackPanel>
                            <Viewbox Width="80" Height="80" Margin="0,0,0,30">
                                <Canvas Width="24" Height="24">
                                    <Path x:Name="ConvertingIcon" Fill="#D84545"
                                          Data="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z">
                                        <Path.RenderTransform>
                                            <RotateTransform x:Name="IconRotation" CenterX="12" CenterY="12"/>
                                        </Path.RenderTransform>
                                        <Path.Triggers>
                                            <EventTrigger RoutedEvent="Path.Loaded">
                                                <BeginStoryboard>
                                                    <Storyboard RepeatBehavior="Forever">
                                                        <DoubleAnimation Storyboard.TargetName="IconRotation"
                                                                       Storyboard.TargetProperty="Angle"
                                                                       From="0" To="360"
                                                                       Duration="0:0:2"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </EventTrigger>
                                        </Path.Triggers>
                                    </Path>
                                </Canvas>
                            </Viewbox>

                            <TextBlock x:Name="ProgressStatusText"
                                       Text="Converting to PDF..."
                                       Foreground="White"
                                       FontSize="20"
                                       FontWeight="SemiBold"
                                       HorizontalAlignment="Center"
                                       Margin="0,0,0,10"/>

                            <TextBlock x:Name="ProgressDetailText"
                                       Text="Processing your file..."
                                       Foreground="White"
                                       Opacity="0.7"
                                       FontSize="14"
                                       HorizontalAlignment="Center"
                                       Margin="0,0,0,25"/>

                            <ProgressBar x:Name="ConversionProgressBar"
                                         Style="{StaticResource ModernProgressBar}"
                                         Value="0"
                                         Maximum="100"
                                         Margin="0,0,0,10"/>

                            <TextBlock x:Name="ProgressPercentText"
                                       Text="0%"
                                       Foreground="White"
                                       Opacity="0.8"
                                       FontSize="14"
                                       HorizontalAlignment="Center"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Grid>

            <Grid x:Name="DownloadScreen" Visibility="Collapsed">
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                    <Border Background="#30FFFFFF"
                            BorderBrush="#40FFFFFF"
                            BorderThickness="1"
                            CornerRadius="20"
                            Padding="50"
                            Width="500">
                        <Border.Effect>
                            <DropShadowEffect Color="Black" Opacity="0.3" ShadowDepth="4" BlurRadius="20"/>
                        </Border.Effect>

                        <StackPanel>
                            <Viewbox Width="100" Height="100" Margin="0,0,0,25">
                                <Canvas Width="24" Height="24">
                                    <Path Fill="#4CAF50"
                                          Data="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </Canvas>
                            </Viewbox>

                            <TextBlock Text="âœ… Conversion Complete!"
                                       Foreground="White"
                                       FontSize="24"
                                       FontWeight="Bold"
                                       HorizontalAlignment="Center"
                                       Margin="0,0,0,10"/>

                            <TextBlock x:Name="ConvertedFileInfo"
                                       Text="Your file has been converted to PDF"
                                       Foreground="White"
                                       Opacity="0.8"
                                       FontSize="14"
                                       HorizontalAlignment="Center"
                                       Margin="0,0,0,30"
                                       TextAlignment="Center"/>

                            <Button x:Name="DownloadButton"
                                    Content="â¬‡ï¸ Download File"
                                    Style="{StaticResource DownloadButton}"
                                    Click="Download_Click"
                                    HorizontalAlignment="Center"
                                    Margin="0,0,0,15"/>

                            <Button Content="Convert Another File"
                                    Style="{StaticResource ConversionButton}"
                                    Click="ConvertAnother_Click"
                                    HorizontalAlignment="Center"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Grid>

        </Grid>
    </Grid>
</Window>

